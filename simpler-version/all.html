<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="A simple profile card component with avatar, name, bio, social links, hobbies, and dislikes. Built with HTML, CSS, and JavaScript." />
  <meta name="author" content="Victor E." />
  <title>Profile Card — HNG stage0.</title>
  <link rel="stylesheet" href="/simpler-version/styles.css">
</head>
<body>
  <article class="profile-card" data-testid="test-profile-card" aria-labelledby="person-name" aria-describedby="person-bio">
    <header class="card-header">
      <h1 class="card-title">Profile Card</h1>
      <div class="helper">Current time (ms): <span class="time" id="now-ms" data-testid="test-user-time" aria-live="polite"></span></div>
    </header>

    <div class="wrap">
      <div>
        <figure>
          <img id="avatar" class="avatar" data-testid="test-user-avatar" src="/images/avatar.webp" alt="User avatar" />
        </figure>
        <div class="controls" aria-label="Avatar controls">
          <div class="label">Avatar</div>
          <input id="avatar-url" type="url" inputmode="url" placeholder="Paste image URL" aria-label="Avatar image URL" />
          <input id="avatar-file" type="file" accept="image/*" aria-label="Upload avatar image" />
          <button class="btn" id="apply-avatar">Use Image</button>
          <div class="hint">Tip: paste a direct image link or choose a file. The image will display as a URL.</div>
        </div>
      </div>

      <div>
        <h2 class="name" id="person-name" data-testid="test-user-name">Victor E.</h2>
        <p class="bio" id="person-bio" data-testid="test-user-bio">Creative full‑stack developer and UI designer focused on building intuitive web experiences with simplicity and precision.</p>

        <nav aria-label="Social links">
          <div class="label" style="margin-bottom:6px">Social</div>
          <ul data-testid="test-user-social-links">
            <li><a href="https://linkedin.com/in/emkajnr" target="_blank" rel="noopener noreferrer" data-testid="test-user-social-linkedin">LinkedIn</a></li>
            <li><a href="https://x.com/victorbjay" target="_blank" rel="noopener noreferrer" data-testid="test-user-social-twitter">Twitter / X</a></li>
            <li><a href="https://github.com/victorbjay" target="_blank" rel="noopener noreferrer" data-testid="test-user-social-github">GitHub</a></li>
            <li><a href="mailto:okpevictor84@gmail.com" target="_blank" rel="noopener noreferrer" data-testid="test-user-social-email">Email</a></li>
          </ul>
        </nav>

        <div class="sections">
          <section class="list" aria-labelledby="hobbies-title">
            <h3 id="hobbies-title">Hobbies</h3>
            <ul class="items" data-testid="test-user-hobbies">
              <li>UI design exploration</li>
              <li>Open-source collaboration</li>
              <li>Fitness and travel</li>
            </ul>
          </section>

          <section class="list" aria-labelledby="dislikes-title">
            <h3 id="dislikes-title">Dislikes</h3>
            <ul class="items" data-testid="test-user-dislikes">
              <li>Poor accessibility</li>
              <li>Overly complex code</li>
              <li>Slow interfaces</li>
            </ul>
          </section>
        </div>
      </div>
    </div>
  </article>

  <script>
    const timeEl = document.getElementById('now-ms');
    const tick = () => { timeEl.textContent = String(Date.now()); };
    tick();
    setInterval(tick, 500);

    const avatarImg = document.getElementById('avatar');
    const urlInput = document.getElementById('avatar-url');
    const fileInput = document.getElementById('avatar-file');
    const applyBtn = document.getElementById('apply-avatar');

    function setAvatarFromUrl(url) {
      if (!url) return;
      try { avatarImg.src = new URL(url, window.location.href).href; }
      catch { alert('Please provide a valid image URL.'); }
    }

    function setAvatarFromFile(file) {
      if (!file) return;
      const objectUrl = URL.createObjectURL(file);
      avatarImg.src = objectUrl;
      avatarImg.onload = () => URL.revokeObjectURL(objectUrl);
    }

    applyBtn.addEventListener('click', () => {
      if (fileInput.files && fileInput.files[0]) setAvatarFromFile(fileInput.files[0]);
      else if (urlInput.value.trim() !== '') setAvatarFromUrl(urlInput.value.trim());
      else alert('Add a URL or choose a file first.');
    });

    urlInput.addEventListener('keydown', (e) => { if (e.key === 'Enter') { e.preventDefault(); applyBtn.click(); } });
  </script>
</body>
</html>
